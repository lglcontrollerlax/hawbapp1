<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
  </head>
  <body>
<script>
  var tabsHtml ='';
  var tabsHtml2='';
  var tabsHtml3='';
  var startDiv = '<div id="routingform"> '
  var endDiv = '</div>'


  function loadRoutingHtml() {
      tabsHtml += '<div id="cartagediv">'
      tabsHtml += '<h3>Active HAWB: ' + hawbSel.hawb[0][3] + '</h3>'
      tabsHtml += '<label for="cartagesel">Cartage Contractor</label>'
      tabsHtml += '<select name="cartagesel" id="cartagesel"  onchange="selectChange(this.options[this.selectedIndex].value,' + "'cartage'" + ')">'
      tabsHtml += '<option value="">Select One</option>'
      tabsHtml += '<option value="LAX">LAX lgl</option>'
      tabsHtml += '<option value="Bella">Bella</option>'
      tabsHtml += '<option value="Reserve">Reserve</option>'
      tabsHtml += '<option value="AllTime">All Time</option>'
      tabsHtml += '<option value="Metro">Metro</option>'
      tabsHtml += '<option value="Ventura">Ventura Hwy</option>'
      tabsHtml += '<option value="Orange">Orange Courier</option>'
      tabsHtml += '</select>'
      tabsHtml += '<label for="cartage">Contractor Routed To:</label>'
      tabsHtml += '<input type="text" id="cartage" class="routeinp" value = "' + hawbSel.hawb[0][37] +'">'
      tabsHtml += '</div><hr>'
      tabsHtml += '<label for="xferto">Xfer To:</label>'
      tabsHtml += '<input type="text" id="xferto" class="routeinp" value = "">'
      tabsHtml += '<hr>'

      tabsHtml2 += '<div id="recoverydiv" class= "hide" >'
      tabsHtml2 += '<label for="recoverysel">Choose Recover From</label>'
      tabsHtml2 += '<select name="recoverysel" id="recoverysel"  onchange="selectChange(this.options[this.selectedIndex].value, ' + "'recovery'" + ')">'
      tabsHtml2 += '<option value="">Select One</option>'
      tabsHtml2 += '<option value="Forward Air">Forward Air</option>'
      tabsHtml2 += '<option value="Land Air">Land Air</option>'
      tabsHtml2 += '<option value="American Line Haul">American Line Haul</option>'
      tabsHtml2 += '<option value="JIT">JIT</option>'
      tabsHtml2 += '<option value="Act2">ACT2</option>'
      tabsHtml2 += '<option value="Sterling">Sterling</option>'
      tabsHtml2 += '<option value="Southwest">Southwest</option>'
      tabsHtml2 += '<option value="American Airlines">American Airlines</option>'
      tabsHtml2 += '<option value="Delta">Delta</option>'
      tabsHtml2 += '<option value="United">United</option>'
      tabsHtml2 += '</select>'
      tabsHtml2 += '<input type="text" id="recovery" class="routeinp" value = "' + hawbSel.hawb[0][32] +'">'
      tabsHtml2 += '<label for="recoverybill">Recovery Bill #</label>'
      tabsHtml2 += '<input type="text" id="recoverybill" class="routeinp" value = "' + hawbSel.hawb[0][33] +'">'
      tabsHtml2 += '<hr>'
      tabsHtml2 += '</div>'

      tabsHtml3 += '<div id="dropdiv" class= "hide">'
      tabsHtml3 += '<label for="dropsel">Choose Drop To</label>'
      tabsHtml3 += '<select name="dropsel" id="dropsel"  onchange="selectChange(this.options[this.selectedIndex].value, ' + "'drop'" + ')">'
      tabsHtml3 += '<option value="">Select One</option>'
      tabsHtml3 += '<option value="Forward Air">Forward Air</option>'
      tabsHtml3 += '<option value="Land Air">Land Air</option>'
      tabsHtml3 += '<option value="American Line Haul">American Line Haul</option>'
      tabsHtml3 += '<option value="JIT">JIT</option>'
      tabsHtml3 += '<option value="Act2">ACT2</option>'
      tabsHtml3 += '<option value="Sterling">Sterling</option>'
      tabsHtml3 += '<option value="Southwest">Southwest</option>'
      tabsHtml3 += '<option value="American Airlines">American Airlines</option>'
      tabsHtml3 += '<option value="Delta">Delta</option>'
      tabsHtml3 += '<option value="United">United</option>'
      tabsHtml3 += '</select>'
      tabsHtml3 += '<input type="text" id="drop" class="routeinp" value = "' + hawbSel.hawb[0][34] +'">'
      tabsHtml3 += '<label for="dropbill">Drop Bill #</label>'
      tabsHtml3 += '<input type="text" id="dropbill" class="routeinp" value = "' + hawbSel.hawb[0][35] +'">'
      tabsHtml3 += '<hr>'
      tabsHtml3 += '</div>'
      tabsHtml3 += '<button id="saveChanges" onClick= "saveRoutingChanges()" disabled >Save Any Changes</button>'



  }

function updateRoutingHawbSel(callback) {
  hawbSel.hawb[0][37] = document.getElementById("cartage").value;
  hawbSel.hawb[0][32] = document.getElementById("recovery").value;
  hawbSel.hawb[0][33] = document.getElementById("recoverybill").value;
  hawbSel.hawb[0][34] = document.getElementById("drop").value;
  hawbSel.hawb[0][35] = document.getElementById("dropbill").value;
  callback()
}

function fillRoutingTab() {
  divtab3.innerHTML = ""
  var routingTabHtml = startDiv + tabsHtml + tabsHtml2 + tabsHtml3 + endDiv ;
  divtab3.innerHTML = routingTabHtml
 // add eventlistener on the form routingForm
  var routingForm = document.getElementById("routingform");
  var buttonSave = document.getElementById("saveChanges");
  routingForm.addEventListener('change', function(e){
    buttonSave.removeAttribute("disabled");
    buttonSave.classList.add("bigred")
    dirty = true;
    console.log(dirty)
  });
}


function saveRoutingChanges(){
  // code to save routing tab input info into spreadsheet
 console.log("save clicked");
 alert("leaving Now Save Changes?")
}

</script>

  </body>
</html>


